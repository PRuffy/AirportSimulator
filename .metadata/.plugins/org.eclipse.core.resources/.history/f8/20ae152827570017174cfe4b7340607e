/** 
 * 
 */
package framework

import framework.environment.WorldModel
import framework.environment.AgentBody
import io.sarl.lang.core.Agent
import framework.util.SpawnMapping
import framework.environment.Borne
import framework.environment.Screener
import framework.^agent.TempAgent
import framework.environment.Body_Phone
import framework.environment.Body_Walker
import framework.environment.DynamicType

/** 
 * @author stay
 * 
 */
class MainProgram {
	static val WORLD_SIZE_X = 200f
	static val WORLD_SIZE_Y = 200f
	static val filename = "res/graphInfo.xml"
	
	static def main(argv : String*) {


			var environment = new WorldModel(WORLD_SIZE_X, WORLD_SIZE_Y, filename)
			var gui = new GUI(WORLD_SIZE_X, WORLD_SIZE_Y, environment.timeManager)
			var behaviour : DynamicType
			behaviour = STEERING
			FrameworkLauncher::launchSimulation(environment, new ApplicationMapping, , gui)
		
		
		System.out.println("fin")
	}

	private static class ApplicationMapping extends SpawnMapping {

		override getAgentTypeForBody(body : AgentBody) : Class<? extends Agent> {
			if(body instanceof Borne){
				return typeof(TempAgent)
			}else if(body instanceof Screener){
				return typeof(TempAgent)
			}else if(body instanceof Body_Phone){
				return typeof(TempAgent)
			}else if(body instanceof Body_Walker){
				return typeof(TempAgent)
			}
		}

	}
}
