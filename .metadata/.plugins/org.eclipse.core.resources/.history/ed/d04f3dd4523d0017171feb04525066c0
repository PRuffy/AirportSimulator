/** 
 * 
 */
package framework.environment
/** 
 * @author stay
 * 
 */
class QuadTree<T extends EnvObject> {
	var root : QuadTreeNode<T>

	new(box : Rectangle2f) {
		this.root = new QuadTreeNode(box)
	}

	def getRoot() : QuadTreeNode<T> {
		root
	}

	def frustumIterator(frustum : Frustum, position : Point2f, orientation : Vector2f) : Iterator<T> {
		var geometricFrustum = frustum.toShape(position, orientation)
		return new FrustumIterator(this, geometricFrustum)
	}

	def add(o : T) {
		this.root.add(o)
	}
}
